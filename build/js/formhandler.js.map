{"version":3,"file":"FormHandler.js.map","sources":["../../src/js/common/FormHandlerError.js","../../src/js/core/Validator.js","../../src/js/core/Form.js","../../src/js/common/constants.js","../../src/js/core/Field.js","../../src/js/core/Input.js","../../src/js/core/Radio.js","../../src/js/core/Select.js","../../src/js/core/Notice.js","../../src/js/common/defaultConfig.js","../../src/js/FormHandler.js"],"sourcesContent":["export default function FormHandlerError(message) {\n  this.name = `FormHandlerError`;\n  this.message = message;\n}\n","import FormHandlerError from '../common/FormHandlerError';\n\nexport default class Validator {\n  constructor(custom) {\n    this.custom = custom;\n\n    this.addCustomValidations();\n  }\n\n  addCustomValidations() {\n    Object.entries(this.custom).forEach(([type, obj]) => {\n      Validator.validations[type] = obj;\n    });\n    console.log(Validator.validations)\n    return this;\n  };\n\n  static validate(type, node, min, max) {\n    let validation = Validator.validations[type];\n\n    if (!validation) {\n      throw new FormHandlerError(`No handler to validate type ${type}`);\n    }\n\n    return validation(node, min, max);\n  }\n\n  static getMessage(type, min, max) {\n    if (typeof Validator.validations[type].message === 'function') {\n      return Validator.validations[type].message(min, max);\n    } else {\n      return Validator.validations[type].message;\n    }\n  }\n\n  static validations = {\n    isCheckboxChecked(node, min, max) {\n      let valid = false,\n          message = 'isCheckboxChecked';\n      return {\n        valid,\n        message,\n      };\n    },\n    isRadioChecked(node, min, max) {\n      let valid = false,\n        message = 'isCheckboxChecked';\n      return {\n        valid,\n        message,\n      };\n    },\n    isSelected(node, min, max) {\n      let valid = false,\n        message = 'isCheckboxChecked';\n      return {\n        valid,\n        message,\n      };\n    },\n    isName(node, min, max) {\n      const pattern = /^[A-Za-z]/;\n      let valid = pattern.test(node.value),\n          message = `Must contain any latin character`;\n\n      if (node.value.length === 0) {\n        valid = false;\n      }\n      if (min && node.value.length < min && node.value.length !== 0) {\n        valid = false;\n      }\n      if (max && node.value.length > max) {\n        valid = false;\n      }\n\n      return {\n        valid,\n        message,\n      };\n    },\n    isEmail(node) {\n      const pattern = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n      let valid = pattern.test(node.value),\n          message = `Must be a valid email address`;\n\n      return {\n        valid,\n        message,\n      };\n    },\n    isAge(node, min, max) {\n      const pattern = /^[\\d]*$/;\n      let valid = pattern.test(node.value),\n          message = `Must contain only digits`;\n\n      if (node.value.length === 0 || !valid) {\n        valid = false;\n      }\n      if (min && node.value.length < min && node.value.length !== 0) {\n        valid = false;\n      }\n      if (max && node.value.length > max) {\n        valid = false;\n      }\n\n      return {\n        valid,\n        message,\n      };\n    },\n    isPhone(node, min, max) {\n      const pattern = /^[+]?[\\s./0-9]*[(]?[0-9]{1,4}[)]?[-\\s./0-9]*$/g;\n      let valid = pattern.test(node.value),\n          message = `Must contain a valid phone number`;\n\n      return {\n        valid,\n        message,\n      };\n    },\n    isNonEmpty(node, min, max) {\n      let valid = node.value.length > 0,\n          message = `Must be is non empty`;\n\n      if (min && node.value.length < min && node.value.length !== 0) {\n        valid = false;\n      }\n      if (max && node.value.length > max && node.value.length !== 0) {\n        valid = false;\n      }\n\n      return {\n        valid,\n        message,\n      };\n    },\n  };\n}\n","export default class Form {\n  constructor({ ...opts }) {\n    this.node = opts.node;\n    this.submit = opts.submit;\n    this.classNames = opts.classNames;\n    this.fields = opts.fields;\n    this.listener = opts.listener;\n    this.valid = false;\n\n    this.submit.addEventListener('click', this.listener);\n  }\n\n  setFormState() {\n    let validness = new Set();\n\n    Object.entries(this.fields).forEach(([name, field]) => {\n      validness.add(field.valid);\n    });\n\n    this.valid = !validness.has(false);\n\n    if (this.valid) {\n      this.node.classList.remove(this.classNames.isNotValid);\n      this.node.classList.add(this.classNames.isValid);\n    } else {\n      this.node.classList.remove(this.classNames.isValid);\n      this.node.classList.add(this.classNames.isNotValid);\n    }\n  }\n\n  resetForm() {\n    Object.entries(this.fields).forEach(([name, field]) => {\n      field.clear();\n    });\n\n    this.valid = false;\n    this.node.classList.remove(this.classNames.isNotValid);\n    this.node.classList.remove(this.classNames.isValid);\n  }\n}\n","export const RADIO_NODE_LIST = 'RadioNodeList';\nexport const HTML_SELECT_ELEMENT = 'HTMLSelectElement';\nexport const HTML_INPUT_ELEMENT = 'HTMLInputElement';\nexport const HTML_TEXTAREA_ELEMENT = 'HTMLTextAreaElement';\n","import {\n  RADIO_NODE_LIST,\n} from '../common/constants';\n\nexport default class Field {\n  constructor({...opts}) {\n    this.node = opts.node;\n    this.name = this.node.constructor.name === RADIO_NODE_LIST ? this.node[0].name : this.node.name;\n    this.validation = opts.validation;\n    this.min = opts.min;\n    this.max = opts.max;\n    this.classNames = opts.classNames;\n    this.valid = false;\n    this.listener = opts.listener;\n  }\n\n  get validatorOptions() {\n    return {\n      type: this.validation,\n      node: this.node,\n      min: this.min,\n      max: this.max,\n    };\n  }\n\n  setFieldState(valid) {\n    this.valid = valid;\n    this.toggleClassNames();\n  }\n\n  on(type, listener) {\n    if (this.node.constructor.name === RADIO_NODE_LIST) {\n      this.node.forEach(el => el.addEventListener(type, listener));\n    } else {\n      this.node.addEventListener(type, listener);\n    }\n  }\n\n  off(type, listener) {\n    if (this.node.constructor.name === RADIO_NODE_LIST) {\n      this.node.forEach(el => el.removeEventListener(type, listener));\n    } else {\n      this.node.removeEventListener(type, listener);\n    }\n  }\n}\n","import Field from './Field';\n\nexport default class Input extends Field {\n  constructor({...opts}) {\n    super({...opts});\n  }\n\n  toggleClassNames() {\n    if (this.valid) {\n      this.node.classList.remove(this.classNames.isNotValid);\n      this.node.classList.add(this.classNames.isValid);\n    } else {\n      this.node.classList.remove(this.classNames.isValid);\n      this.node.classList.add(this.classNames.isNotValid);\n    }\n  }\n\n  clear() {\n    this.node.value = \"\";\n    this.valid = false;\n    this.node.classList.remove(this.classNames.isNotValid);\n    this.node.classList.remove(this.classNames.isValid);\n  }\n}\n","import Field from './Field';\n\nexport default class Radio extends Field {\n  constructor({...opts}) {\n    super({...opts});\n  }\n\n  toggleClassNames() {\n    if (this.valid) {\n      this.node.forEach(el => el.classList.remove(this.classNames.isNotValid));\n      this.node.forEach(el => el.classList.add(this.classNames.isValid));\n    } else {\n      this.node.forEach(el => el.classList.remove(this.classNames.isValid));\n      this.node.forEach(el => el.classList.add(this.classNames.isNotValid));\n    }\n  }\n}\n","import Field from './Field';\n\nexport default class Select extends Field {\n  constructor({...opts}) {\n    super({...opts})\n  }\n  toggleClassNames() {\n    if (this.valid) {\n      this.node.classList.remove(this.classNames.isNotValid);\n      this.node.classList.add(this.classNames.isValid);\n    } else {\n      this.node.classList.remove(this.classNames.isValid);\n      this.node.classList.add(this.classNames.isNotValid);\n    }\n  }\n}\n","export default class Notice {\n  constructor({ ...opts }) {\n    this.form = opts.form;\n    this.message = opts.message;\n    this.classNames = opts.classNames;\n    this.attachTo = opts.attachTo;\n    this.nextToField = opts.nextToField;\n    this.parent = opts.parent;\n    this.node = null;\n    this.mount();\n  }\n\n  mount() {\n    this.node = document.createElement('div');\n    this.node.classList.add(this.classNames.block);\n    this.node.classList.add(this.classNames.hidden);\n\n    if (this.attachTo) {\n      this.parent.appendChild(this.node);\n    } else {\n      if (this.nextToField === 'before') {\n        this.form.insertBefore(this.node, this.parent);\n      }\n      if (this.nextToField === 'after') {\n        this.form.insertBefore(this.node, this.parent.nextElementSibling);\n      }\n    }\n  };\n\n  show() {\n    this.node.classList.remove(this.classNames.hidden);\n    this.node.classList.add(this.classNames.visible);\n    this.node.innerText = this.message;\n  };\n\n  hide() {\n    this.node.classList.remove(this.classNames.visible);\n    this.node.classList.add(this.classNames.hidden);\n  }\n}\n","export default {\n  form: {\n    block: '.formhandler',\n    submit: '.formhandler__submit',\n    notice: {\n      attachTo: '.formhandler__notices',\n      successMsg: 'ok',\n      invalidMsg: 'please, fill the form',\n      errorMsg: 'oops',\n      classNames: {\n        block: 'formhandler__notice-form',\n        hidden: 'formhandler__notice-form--hidden',\n        visible: 'formhandler__notice-form--visible',\n      },\n    },\n  },\n  fields: {\n    min: false,\n    max: false,\n  },\n  notices: {\n    attachTo: '.formhandler__notices',\n    nextToField: false,\n    message: false,\n  },\n  classNames: {\n    notices: {\n      block: 'formhandler__notice',\n      hidden: 'formhandler__notice--hidden',\n      visible: 'formhandler__notice--visible',\n    },\n    form: {\n      isValid: 'formhandler--is-valid',\n      isNotValid: 'formhandler--is-not-valid',\n      disabledSubmitButton: 'formhandler__submit--disabled',\n    },\n    fields: {\n      isValid: 'formhandler__field--is-valid',\n      isNotValid: 'formhandler__field--is-not-valid',\n    },\n  },\n}\n","import Validator from './core/Validator';\nimport Form from './core/Form';\nimport Input from './core/Input';\nimport Radio from './core/Radio';\nimport Select from './core/Select';\nimport Notice from './core/Notice';\nimport defaultConfig from './common/defaultConfig';\nimport {\n    RADIO_NODE_LIST,\n    HTML_SELECT_ELEMENT,\n    HTML_INPUT_ELEMENT,\n    HTML_TEXTAREA_ELEMENT\n  } from './common/constants';\n\nexport default class FormHandler {\n  constructor({ ...args }) {\n    this.opts = args;\n    this.fields = {};\n    this.notices = {};\n    this.form = null;\n    this.validator = new Validator(this.opts.customValidations);\n    this.init();\n  }\n\n  init() {\n    this.complementOptions().makeForm();\n\n    Object.entries(this.opts.fields).forEach(([name, field]) => {\n      this.makeField(name,field).makeNotice(name, field.notice);\n    });\n\n    return this;\n  }\n\n  complementOptions() {\n    // Add lacks classNames and merge.\n    this.opts.classNames = this.opts.classNames ? { ...defaultConfig.classNames, ...this.opts.classNames } : defaultConfig.classNames;\n    this.opts.classNames.form = { ...defaultConfig.classNames.form, ...this.opts.classNames.form };\n    this.opts.classNames.fields = { ...defaultConfig.classNames.fields, ...this.opts.classNames.fields };\n    this.opts.classNames.notices = { ...defaultConfig.classNames.notices, ...this.opts.classNames.notices };\n    // Add lacks form options and merge.\n    this.opts.form = this.opts.form ? { ...defaultConfig.form, ...this.opts.form } : defaultConfig.form;\n    this.opts.form.notice = { ...defaultConfig.form.notice, ...this.opts.form.notice };\n    this.opts.form.notice.classNames = { ...this.opts.classNames.notice, ...this.opts.form.notice.classNames };\n    // Add lacks notices options and merge\n    this.opts.notices = { ...defaultConfig.notices, ...this.opts.notices };\n    // Add lacks fields options and merge\n    Object.entries(this.opts.fields).forEach(([name,obj]) => {\n      this.opts.fields[name] = {...defaultConfig.fields, ...this.opts.fields[name]};\n      this.opts.fields[name].classNames = this.opts.fields[name].classNames ? { ...this.opts.classNames.fields, ...this.opts.fields[name].classNames } : this.opts.classNames.fields;\n      this.opts.fields[name].notice = { ...this.opts.notices, ...this.opts.fields[name].notice };\n      this.opts.fields[name].notice.classNames = { ...this.opts.classNames.notices, ...this.opts.fields[name].notice.classNames };\n    });\n\n    return this;\n  }\n\n  makeForm() {\n    const options = {\n      fields: this.fields,\n      classNames: this.opts.classNames.form,\n      node: document.querySelector(this.opts.form.block),\n      submit: document.querySelector(this.opts.form.submit),\n      listener: this.submitHandler,\n    };\n\n    this.form = new Form(options);\n\n    this.makeNotice('form', this.opts.form.notice);\n    return this;\n  }\n\n  makeField(name, field) {\n    const node = this.form.node[name],\n          type = node.constructor.name,\n          options = {\n            node: node,\n            validation: field.validation,\n            min: field.min,\n            max: field.max,\n            classNames: field.classNames,\n            listener: this.inputHandler,\n          };\n\n    if (type === HTML_INPUT_ELEMENT ||\n        type === HTML_TEXTAREA_ELEMENT) {\n      this.fields[name] = new Input(options);\n    }\n\n    if (type === RADIO_NODE_LIST) {\n      this.fields[name] = new Radio(options);\n    }\n\n    if (type === HTML_SELECT_ELEMENT) {\n      this.fields[name] = new Select(options);\n    }\n\n    return this;\n  }\n\n  makeNotice(name, notice) {\n    this.notices[name] = new Notice({\n      form: this.form.node,\n      classNames: notice.classNames,\n      attachTo: notice.attachTo,\n      message: null || notice.message,\n      nextToField: notice.nextToField,\n      parent: notice.nextToField ? this.fields[name].node : document.querySelector(notice.attachTo),\n    });\n    return this;\n  }\n\n  setFieldState(name, valid) {\n    this.fields[name].setFieldState(valid);\n\n    if (valid) {\n      this.notices[name].hide();\n    } else {\n      this.notices[name].show();\n    }\n    this.form.setFormState();\n    return this;\n  }\n\n  inputHandler = ev => {\n    const name = ev.target.name,\n          validation = this.fields[name].validation,\n          minLength = this.fields[name].min,\n          maxLength = this.fields[name].max,\n          newValid = Validator.validate(validation, ev.target, minLength, maxLength);\n\n    if (newValid) {\n      this.setFieldState(name, newValid.valid, this.notices[name].message || validation.message);\n    }\n  }\n\n  submitHandler = (ev) => {\n    ev.preventDefault();\n    Object.entries(this.fields).forEach(([name, field]) => {\n      const validation = Validator.validate(field.validation, field.node, field.min, field.max);\n      field.on('input', this.inputHandler);\n      console.log(name, validation)\n      if (typeof validation !== 'undefined') {\n        this.setFieldState(name, validation.valid);\n      }\n    });\n\n    this.notices.form.hide();\n    this.form.setFormState();\n\n    if (this.form.valid) {\n      console.log('form is valid');\n    } else {\n      console.log('form is not valid');\n      this.notices.form.show();\n      setTimeout(() => {\n        this.notices.form.hide();\n      }, 2000)\n    }\n  }\n}\n"],"names":["FormHandlerError","message","name","Validator","custom","addCustomValidations","Object","entries","forEach","type","obj","validations","console","log","node","min","max","validation","isCheckboxChecked","valid","isRadioChecked","isSelected","isName","pattern","test","value","length","isEmail","isAge","isPhone","isNonEmpty","Form","opts","submit","classNames","fields","listener","addEventListener","validness","Set","field","add","has","classList","remove","isNotValid","isValid","clear","RADIO_NODE_LIST","HTML_SELECT_ELEMENT","HTML_INPUT_ELEMENT","HTML_TEXTAREA_ELEMENT","Field","constructor","toggleClassNames","el","removeEventListener","Input","Radio","Select","Notice","form","attachTo","nextToField","parent","mount","document","createElement","block","hidden","appendChild","insertBefore","nextElementSibling","visible","innerText","notice","successMsg","invalidMsg","errorMsg","notices","disabledSubmitButton","FormHandler","args","ev","target","minLength","maxLength","newValid","validate","setFieldState","preventDefault","on","inputHandler","hide","setFormState","show","setTimeout","validator","customValidations","init","complementOptions","makeForm","makeField","makeNotice","defaultConfig","options","querySelector","submitHandler"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAe,SAASA,gBAAT,CAA0BC,OAA1B,EAAmC;EAChD,OAAKC,IAAL;EACA,OAAKD,OAAL,GAAeA,OAAf;EACD;;MCDoBE;;;EACnB,qBAAYC,MAAZ,EAAoB;EAAA;;EAClB,SAAKA,MAAL,GAAcA,MAAd;EAEA,SAAKC,oBAAL;EACD;;;;6CAEsB;EACrBC,aAAOC,OAAP,CAAe,KAAKH,MAApB,EAA4BI,OAA5B,CAAoC,gBAAiB;EAAA;EAAA,YAAfC,IAAe;EAAA,YAATC,GAAS;;EACnDP,kBAAUQ,WAAV,CAAsBF,IAAtB,IAA8BC,GAA9B;EACD,OAFD;EAGAE,cAAQC,GAAR,CAAYV,UAAUQ,WAAtB;EACA,aAAO,IAAP;EACD;;;+BAEeF,MAAMK,MAAMC,KAAKC,KAAK;EACpC,UAAIC,aAAad,UAAUQ,WAAV,CAAsBF,IAAtB,CAAjB;;EAEA,UAAI,CAACQ,UAAL,EAAiB;EACf,cAAM,IAAIjB,gBAAJ,uCAAoDS,IAApD,EAAN;EACD;;EAED,aAAOQ,WAAWH,IAAX,EAAiBC,GAAjB,EAAsBC,GAAtB,CAAP;EACD;;;iCAEiBP,MAAMM,KAAKC,KAAK;EAChC,UAAI,OAAOb,UAAUQ,WAAV,CAAsBF,IAAtB,EAA4BR,OAAnC,KAA+C,UAAnD,EAA+D;EAC7D,eAAOE,UAAUQ,WAAV,CAAsBF,IAAtB,EAA4BR,OAA5B,CAAoCc,GAApC,EAAyCC,GAAzC,CAAP;EACD,OAFD,MAEO;EACL,eAAOb,UAAUQ,WAAV,CAAsBF,IAAtB,EAA4BR,OAAnC;EACD;EACF;;;;;;kBA/BkBE,0BAiCE;EACnBe,mBADmB,6BACDJ,IADC,EACKC,GADL,EACUC,GADV,EACe;EAChC,QAAIG,QAAQ,KAAZ;EAAA,QACIlB,UAAU,mBADd;EAEA,WAAO;EACLkB,kBADK;EAELlB;EAFK,KAAP;EAID,GARkB;EASnBmB,gBATmB,0BASJN,IATI,EASEC,GATF,EASOC,GATP,EASY;EAC7B,QAAIG,QAAQ,KAAZ;EAAA,QACElB,UAAU,mBADZ;EAEA,WAAO;EACLkB,kBADK;EAELlB;EAFK,KAAP;EAID,GAhBkB;EAiBnBoB,YAjBmB,sBAiBRP,IAjBQ,EAiBFC,GAjBE,EAiBGC,GAjBH,EAiBQ;EACzB,QAAIG,QAAQ,KAAZ;EAAA,QACElB,UAAU,mBADZ;EAEA,WAAO;EACLkB,kBADK;EAELlB;EAFK,KAAP;EAID,GAxBkB;EAyBnBqB,QAzBmB,kBAyBZR,IAzBY,EAyBNC,GAzBM,EAyBDC,GAzBC,EAyBI;EACrB,QAAMO,UAAU,WAAhB;EACA,QAAIJ,QAAQI,QAAQC,IAAR,CAAaV,KAAKW,KAAlB,CAAZ;EAAA,QACIxB,4CADJ;;EAGA,QAAIa,KAAKW,KAAL,CAAWC,MAAX,KAAsB,CAA1B,EAA6B;EAC3BP,cAAQ,KAAR;EACD;;EACD,QAAIJ,OAAOD,KAAKW,KAAL,CAAWC,MAAX,GAAoBX,GAA3B,IAAkCD,KAAKW,KAAL,CAAWC,MAAX,KAAsB,CAA5D,EAA+D;EAC7DP,cAAQ,KAAR;EACD;;EACD,QAAIH,OAAOF,KAAKW,KAAL,CAAWC,MAAX,GAAoBV,GAA/B,EAAoC;EAClCG,cAAQ,KAAR;EACD;;EAED,WAAO;EACLA,kBADK;EAELlB;EAFK,KAAP;EAID,GA5CkB;EA6CnB0B,SA7CmB,mBA6CXb,IA7CW,EA6CL;EACZ,QAAMS,UAAU,wHAAhB;EACA,QAAIJ,QAAQI,QAAQC,IAAR,CAAaV,KAAKW,KAAlB,CAAZ;EAAA,QACIxB,yCADJ;EAGA,WAAO;EACLkB,kBADK;EAELlB;EAFK,KAAP;EAID,GAtDkB;EAuDnB2B,OAvDmB,iBAuDbd,IAvDa,EAuDPC,GAvDO,EAuDFC,GAvDE,EAuDG;EACpB,QAAMO,UAAU,SAAhB;EACA,QAAIJ,QAAQI,QAAQC,IAAR,CAAaV,KAAKW,KAAlB,CAAZ;EAAA,QACIxB,oCADJ;;EAGA,QAAIa,KAAKW,KAAL,CAAWC,MAAX,KAAsB,CAAtB,IAA2B,CAACP,KAAhC,EAAuC;EACrCA,cAAQ,KAAR;EACD;;EACD,QAAIJ,OAAOD,KAAKW,KAAL,CAAWC,MAAX,GAAoBX,GAA3B,IAAkCD,KAAKW,KAAL,CAAWC,MAAX,KAAsB,CAA5D,EAA+D;EAC7DP,cAAQ,KAAR;EACD;;EACD,QAAIH,OAAOF,KAAKW,KAAL,CAAWC,MAAX,GAAoBV,GAA/B,EAAoC;EAClCG,cAAQ,KAAR;EACD;;EAED,WAAO;EACLA,kBADK;EAELlB;EAFK,KAAP;EAID,GA1EkB;EA2EnB4B,SA3EmB,mBA2EXf,IA3EW,EA2ELC,GA3EK,EA2EAC,GA3EA,EA2EK;EACtB,QAAMO,UAAU,gDAAhB;EACA,QAAIJ,QAAQI,QAAQC,IAAR,CAAaV,KAAKW,KAAlB,CAAZ;EAAA,QACIxB,6CADJ;EAGA,WAAO;EACLkB,kBADK;EAELlB;EAFK,KAAP;EAID,GApFkB;EAqFnB6B,YArFmB,sBAqFRhB,IArFQ,EAqFFC,GArFE,EAqFGC,GArFH,EAqFQ;EACzB,QAAIG,QAAQL,KAAKW,KAAL,CAAWC,MAAX,GAAoB,CAAhC;EAAA,QACIzB,gCADJ;;EAGA,QAAIc,OAAOD,KAAKW,KAAL,CAAWC,MAAX,GAAoBX,GAA3B,IAAkCD,KAAKW,KAAL,CAAWC,MAAX,KAAsB,CAA5D,EAA+D;EAC7DP,cAAQ,KAAR;EACD;;EACD,QAAIH,OAAOF,KAAKW,KAAL,CAAWC,MAAX,GAAoBV,GAA3B,IAAkCF,KAAKW,KAAL,CAAWC,MAAX,KAAsB,CAA5D,EAA+D;EAC7DP,cAAQ,KAAR;EACD;;EAED,WAAO;EACLA,kBADK;EAELlB;EAFK,KAAP;EAID;EApGkB;;MCnCF8B;;;EACnB,sBAAyB;EAAA,QAARC,IAAQ;;EAAA;;EACvB,SAAKlB,IAAL,GAAYkB,KAAKlB,IAAjB;EACA,SAAKmB,MAAL,GAAcD,KAAKC,MAAnB;EACA,SAAKC,UAAL,GAAkBF,KAAKE,UAAvB;EACA,SAAKC,MAAL,GAAcH,KAAKG,MAAnB;EACA,SAAKC,QAAL,GAAgBJ,KAAKI,QAArB;EACA,SAAKjB,KAAL,GAAa,KAAb;EAEA,SAAKc,MAAL,CAAYI,gBAAZ,CAA6B,OAA7B,EAAsC,KAAKD,QAA3C;EACD;;;;qCAEc;EACb,UAAIE,YAAY,IAAIC,GAAJ,EAAhB;EAEAjC,aAAOC,OAAP,CAAe,KAAK4B,MAApB,EAA4B3B,OAA5B,CAAoC,iBAAmB;EAAA;EAAA,YAAjBN,IAAiB;EAAA,YAAXsC,KAAW;;EACrDF,kBAAUG,GAAV,CAAcD,MAAMrB,KAApB;EACD,OAFD;EAIA,WAAKA,KAAL,GAAa,CAACmB,UAAUI,GAAV,CAAc,KAAd,CAAd;;EAEA,UAAI,KAAKvB,KAAT,EAAgB;EACd,aAAKL,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBW,UAA3C;EACA,aAAK/B,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBY,OAAxC;EACD,OAHD,MAGO;EACL,aAAKhC,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBY,OAA3C;EACA,aAAKhC,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBW,UAAxC;EACD;EACF;;;kCAEW;EACVvC,aAAOC,OAAP,CAAe,KAAK4B,MAApB,EAA4B3B,OAA5B,CAAoC,iBAAmB;EAAA;EAAA,YAAjBN,IAAiB;EAAA,YAAXsC,KAAW;;EACrDA,cAAMO,KAAN;EACD,OAFD;EAIA,WAAK5B,KAAL,GAAa,KAAb;EACA,WAAKL,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBW,UAA3C;EACA,WAAK/B,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBY,OAA3C;EACD;;;;;;ECtCI,IAAME,kBAAkB,eAAxB;AACP,EAAO,IAAMC,sBAAsB,mBAA5B;AACP,EAAO,IAAMC,qBAAqB,kBAA3B;AACP,EAAO,IAAMC,wBAAwB,qBAA9B;;MCCcC;;;EACnB,uBAAuB;EAAA,QAAPpB,IAAO;;EAAA;;EACrB,SAAKlB,IAAL,GAAYkB,KAAKlB,IAAjB;EACA,SAAKZ,IAAL,GAAY,KAAKY,IAAL,CAAUuC,WAAV,CAAsBnD,IAAtB,KAA+B8C,eAA/B,GAAiD,KAAKlC,IAAL,CAAU,CAAV,EAAaZ,IAA9D,GAAqE,KAAKY,IAAL,CAAUZ,IAA3F;EACA,SAAKe,UAAL,GAAkBe,KAAKf,UAAvB;EACA,SAAKF,GAAL,GAAWiB,KAAKjB,GAAhB;EACA,SAAKC,GAAL,GAAWgB,KAAKhB,GAAhB;EACA,SAAKkB,UAAL,GAAkBF,KAAKE,UAAvB;EACA,SAAKf,KAAL,GAAa,KAAb;EACA,SAAKiB,QAAL,GAAgBJ,KAAKI,QAArB;EACD;;;;oCAWajB,OAAO;EACnB,WAAKA,KAAL,GAAaA,KAAb;EACA,WAAKmC,gBAAL;EACD;;;yBAEE7C,MAAM2B,UAAU;EACjB,UAAI,KAAKtB,IAAL,CAAUuC,WAAV,CAAsBnD,IAAtB,KAA+B8C,eAAnC,EAAoD;EAClD,aAAKlC,IAAL,CAAUN,OAAV,CAAkB;EAAA,iBAAM+C,GAAGlB,gBAAH,CAAoB5B,IAApB,EAA0B2B,QAA1B,CAAN;EAAA,SAAlB;EACD,OAFD,MAEO;EACL,aAAKtB,IAAL,CAAUuB,gBAAV,CAA2B5B,IAA3B,EAAiC2B,QAAjC;EACD;EACF;;;0BAEG3B,MAAM2B,UAAU;EAClB,UAAI,KAAKtB,IAAL,CAAUuC,WAAV,CAAsBnD,IAAtB,KAA+B8C,eAAnC,EAAoD;EAClD,aAAKlC,IAAL,CAAUN,OAAV,CAAkB;EAAA,iBAAM+C,GAAGC,mBAAH,CAAuB/C,IAAvB,EAA6B2B,QAA7B,CAAN;EAAA,SAAlB;EACD,OAFD,MAEO;EACL,aAAKtB,IAAL,CAAU0C,mBAAV,CAA8B/C,IAA9B,EAAoC2B,QAApC;EACD;EACF;;;0BA5BsB;EACrB,aAAO;EACL3B,cAAM,KAAKQ,UADN;EAELH,cAAM,KAAKA,IAFN;EAGLC,aAAK,KAAKA,GAHL;EAILC,aAAK,KAAKA;EAJL,OAAP;EAMD;;;;;;MCrBkByC;;;;;EACnB,uBAAuB;EAAA,QAAPzB,IAAO;;EAAA;;EAAA,gGACXA,IADW;EAEtB;;;;yCAEkB;EACjB,UAAI,KAAKb,KAAT,EAAgB;EACd,aAAKL,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBW,UAA3C;EACA,aAAK/B,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBY,OAAxC;EACD,OAHD,MAGO;EACL,aAAKhC,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBY,OAA3C;EACA,aAAKhC,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBW,UAAxC;EACD;EACF;;;8BAEO;EACN,WAAK/B,IAAL,CAAUW,KAAV,GAAkB,EAAlB;EACA,WAAKN,KAAL,GAAa,KAAb;EACA,WAAKL,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBW,UAA3C;EACA,WAAK/B,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBY,OAA3C;EACD;;;;IApBgCM;;MCAdM;;;;;EACnB,uBAAuB;EAAA,QAAP1B,IAAO;;EAAA;;EAAA,gGACXA,IADW;EAEtB;;;;yCAEkB;EAAA;;EACjB,UAAI,KAAKb,KAAT,EAAgB;EACd,aAAKL,IAAL,CAAUN,OAAV,CAAkB;EAAA,iBAAM+C,GAAGZ,SAAH,CAAaC,MAAb,CAAoB,MAAKV,UAAL,CAAgBW,UAApC,CAAN;EAAA,SAAlB;EACA,aAAK/B,IAAL,CAAUN,OAAV,CAAkB;EAAA,iBAAM+C,GAAGZ,SAAH,CAAaF,GAAb,CAAiB,MAAKP,UAAL,CAAgBY,OAAjC,CAAN;EAAA,SAAlB;EACD,OAHD,MAGO;EACL,aAAKhC,IAAL,CAAUN,OAAV,CAAkB;EAAA,iBAAM+C,GAAGZ,SAAH,CAAaC,MAAb,CAAoB,MAAKV,UAAL,CAAgBY,OAApC,CAAN;EAAA,SAAlB;EACA,aAAKhC,IAAL,CAAUN,OAAV,CAAkB;EAAA,iBAAM+C,GAAGZ,SAAH,CAAaF,GAAb,CAAiB,MAAKP,UAAL,CAAgBW,UAAjC,CAAN;EAAA,SAAlB;EACD;EACF;;;;IAbgCO;;MCAdO;;;;;EACnB,wBAAuB;EAAA,QAAP3B,IAAO;;EAAA;;EAAA,iGACXA,IADW;EAEtB;;;;yCACkB;EACjB,UAAI,KAAKb,KAAT,EAAgB;EACd,aAAKL,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBW,UAA3C;EACA,aAAK/B,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBY,OAAxC;EACD,OAHD,MAGO;EACL,aAAKhC,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBY,OAA3C;EACA,aAAKhC,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBW,UAAxC;EACD;EACF;;;;IAZiCO;;MCFfQ;;;EACnB,wBAAyB;EAAA,QAAR5B,IAAQ;;EAAA;;EACvB,SAAK6B,IAAL,GAAY7B,KAAK6B,IAAjB;EACA,SAAK5D,OAAL,GAAe+B,KAAK/B,OAApB;EACA,SAAKiC,UAAL,GAAkBF,KAAKE,UAAvB;EACA,SAAK4B,QAAL,GAAgB9B,KAAK8B,QAArB;EACA,SAAKC,WAAL,GAAmB/B,KAAK+B,WAAxB;EACA,SAAKC,MAAL,GAAchC,KAAKgC,MAAnB;EACA,SAAKlD,IAAL,GAAY,IAAZ;EACA,SAAKmD,KAAL;EACD;;;;8BAEO;EACN,WAAKnD,IAAL,GAAYoD,SAASC,aAAT,CAAuB,KAAvB,CAAZ;EACA,WAAKrD,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBkC,KAAxC;EACA,WAAKtD,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBmC,MAAxC;;EAEA,UAAI,KAAKP,QAAT,EAAmB;EACjB,aAAKE,MAAL,CAAYM,WAAZ,CAAwB,KAAKxD,IAA7B;EACD,OAFD,MAEO;EACL,YAAI,KAAKiD,WAAL,KAAqB,QAAzB,EAAmC;EACjC,eAAKF,IAAL,CAAUU,YAAV,CAAuB,KAAKzD,IAA5B,EAAkC,KAAKkD,MAAvC;EACD;;EACD,YAAI,KAAKD,WAAL,KAAqB,OAAzB,EAAkC;EAChC,eAAKF,IAAL,CAAUU,YAAV,CAAuB,KAAKzD,IAA5B,EAAkC,KAAKkD,MAAL,CAAYQ,kBAA9C;EACD;EACF;EACF;;;6BAEM;EACL,WAAK1D,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBmC,MAA3C;EACA,WAAKvD,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBuC,OAAxC;EACA,WAAK3D,IAAL,CAAU4D,SAAV,GAAsB,KAAKzE,OAA3B;EACD;;;6BAEM;EACL,WAAKa,IAAL,CAAU6B,SAAV,CAAoBC,MAApB,CAA2B,KAAKV,UAAL,CAAgBuC,OAA3C;EACA,WAAK3D,IAAL,CAAU6B,SAAV,CAAoBF,GAApB,CAAwB,KAAKP,UAAL,CAAgBmC,MAAxC;EACD;;;;;;ACtCH,sBAAe;EACbR,QAAM;EACJO,WAAO,cADH;EAEJnC,YAAQ,sBAFJ;EAGJ0C,YAAQ;EACNb,gBAAU,uBADJ;EAENc,kBAAY,IAFN;EAGNC,kBAAY,uBAHN;EAINC,gBAAU,MAJJ;EAKN5C,kBAAY;EACVkC,eAAO,0BADG;EAEVC,gBAAQ,kCAFE;EAGVI,iBAAS;EAHC;EALN;EAHJ,GADO;EAgBbtC,UAAQ;EACNpB,SAAK,KADC;EAENC,SAAK;EAFC,GAhBK;EAoBb+D,WAAS;EACPjB,cAAU,uBADH;EAEPC,iBAAa,KAFN;EAGP9D,aAAS;EAHF,GApBI;EAyBbiC,cAAY;EACV6C,aAAS;EACPX,aAAO,qBADA;EAEPC,cAAQ,6BAFD;EAGPI,eAAS;EAHF,KADC;EAMVZ,UAAM;EACJf,eAAS,uBADL;EAEJD,kBAAY,2BAFR;EAGJmC,4BAAsB;EAHlB,KANI;EAWV7C,YAAQ;EACNW,eAAS,8BADH;EAEND,kBAAY;EAFN;EAXE;EAzBC,CAAf;;MCcqBoC;;;EACnB,6BAAyB;EAAA;;EAAA,QAARC,IAAQ;;EAAA;;EAAA,0CA6GV,cAAM;EACnB,UAAMhF,OAAOiF,GAAGC,MAAH,CAAUlF,IAAvB;EAAA,UACMe,aAAa,MAAKkB,MAAL,CAAYjC,IAAZ,EAAkBe,UADrC;EAAA,UAEMoE,YAAY,MAAKlD,MAAL,CAAYjC,IAAZ,EAAkBa,GAFpC;EAAA,UAGMuE,YAAY,MAAKnD,MAAL,CAAYjC,IAAZ,EAAkBc,GAHpC;EAAA,UAIMuE,WAAWpF,UAAUqF,QAAV,CAAmBvE,UAAnB,EAA+BkE,GAAGC,MAAlC,EAA0CC,SAA1C,EAAqDC,SAArD,CAJjB;;EAMA,UAAIC,QAAJ,EAAc;EACZ,cAAKE,aAAL,CAAmBvF,IAAnB,EAAyBqF,SAASpE,KAAlC,EAAyC,MAAK4D,OAAL,CAAa7E,IAAb,EAAmBD,OAAnB,IAA8BgB,WAAWhB,OAAlF;EACD;EACF,KAvHwB;;EAAA,2CAyHT,UAACkF,EAAD,EAAQ;EACtBA,SAAGO,cAAH;EACApF,aAAOC,OAAP,CAAe,MAAK4B,MAApB,EAA4B3B,OAA5B,CAAoC,iBAAmB;EAAA;EAAA,YAAjBN,IAAiB;EAAA,YAAXsC,KAAW;;EACrD,YAAMvB,aAAad,UAAUqF,QAAV,CAAmBhD,MAAMvB,UAAzB,EAAqCuB,MAAM1B,IAA3C,EAAiD0B,MAAMzB,GAAvD,EAA4DyB,MAAMxB,GAAlE,CAAnB;EACAwB,cAAMmD,EAAN,CAAS,OAAT,EAAkB,MAAKC,YAAvB;EACAhF,gBAAQC,GAAR,CAAYX,IAAZ,EAAkBe,UAAlB;;EACA,YAAI,OAAOA,UAAP,KAAsB,WAA1B,EAAuC;EACrC,gBAAKwE,aAAL,CAAmBvF,IAAnB,EAAyBe,WAAWE,KAApC;EACD;EACF,OAPD;;EASA,YAAK4D,OAAL,CAAalB,IAAb,CAAkBgC,IAAlB;;EACA,YAAKhC,IAAL,CAAUiC,YAAV;;EAEA,UAAI,MAAKjC,IAAL,CAAU1C,KAAd,EAAqB;EACnBP,gBAAQC,GAAR,CAAY,eAAZ;EACD,OAFD,MAEO;EACLD,gBAAQC,GAAR,CAAY,mBAAZ;;EACA,cAAKkE,OAAL,CAAalB,IAAb,CAAkBkC,IAAlB;;EACAC,mBAAW,YAAM;EACf,gBAAKjB,OAAL,CAAalB,IAAb,CAAkBgC,IAAlB;EACD,SAFD,EAEG,IAFH;EAGD;EACF,KAhJwB;;EACvB,SAAK7D,IAAL,GAAYkD,IAAZ;EACA,SAAK/C,MAAL,GAAc,EAAd;EACA,SAAK4C,OAAL,GAAe,EAAf;EACA,SAAKlB,IAAL,GAAY,IAAZ;EACA,SAAKoC,SAAL,GAAiB,IAAI9F,SAAJ,CAAc,KAAK6B,IAAL,CAAUkE,iBAAxB,CAAjB;EACA,SAAKC,IAAL;EACD;;;;6BAEM;EAAA;;EACL,WAAKC,iBAAL,GAAyBC,QAAzB;EAEA/F,aAAOC,OAAP,CAAe,KAAKyB,IAAL,CAAUG,MAAzB,EAAiC3B,OAAjC,CAAyC,iBAAmB;EAAA;EAAA,YAAjBN,IAAiB;EAAA,YAAXsC,KAAW;;EAC1D,eAAK8D,SAAL,CAAepG,IAAf,EAAoBsC,KAApB,EAA2B+D,UAA3B,CAAsCrG,IAAtC,EAA4CsC,MAAMmC,MAAlD;EACD,OAFD;EAIA,aAAO,IAAP;EACD;;;0CAEmB;EAAA;;EAClB;EACA,WAAK3C,IAAL,CAAUE,UAAV,GAAuB,KAAKF,IAAL,CAAUE,UAAV,qBAA4BsE,cAActE,UAA1C,EAAyD,KAAKF,IAAL,CAAUE,UAAnE,IAAkFsE,cAActE,UAAvH;EACA,WAAKF,IAAL,CAAUE,UAAV,CAAqB2B,IAArB,qBAAiC2C,cAActE,UAAd,CAAyB2B,IAA1D,EAAmE,KAAK7B,IAAL,CAAUE,UAAV,CAAqB2B,IAAxF;EACA,WAAK7B,IAAL,CAAUE,UAAV,CAAqBC,MAArB,qBAAmCqE,cAActE,UAAd,CAAyBC,MAA5D,EAAuE,KAAKH,IAAL,CAAUE,UAAV,CAAqBC,MAA5F;EACA,WAAKH,IAAL,CAAUE,UAAV,CAAqB6C,OAArB,qBAAoCyB,cAActE,UAAd,CAAyB6C,OAA7D,EAAyE,KAAK/C,IAAL,CAAUE,UAAV,CAAqB6C,OAA9F,EALkB;;EAOlB,WAAK/C,IAAL,CAAU6B,IAAV,GAAiB,KAAK7B,IAAL,CAAU6B,IAAV,qBAAsB2C,cAAc3C,IAApC,EAA6C,KAAK7B,IAAL,CAAU6B,IAAvD,IAAgE2C,cAAc3C,IAA/F;EACA,WAAK7B,IAAL,CAAU6B,IAAV,CAAec,MAAf,qBAA6B6B,cAAc3C,IAAd,CAAmBc,MAAhD,EAA2D,KAAK3C,IAAL,CAAU6B,IAAV,CAAec,MAA1E;EACA,WAAK3C,IAAL,CAAU6B,IAAV,CAAec,MAAf,CAAsBzC,UAAtB,qBAAwC,KAAKF,IAAL,CAAUE,UAAV,CAAqByC,MAA7D,EAAwE,KAAK3C,IAAL,CAAU6B,IAAV,CAAec,MAAf,CAAsBzC,UAA9F,EATkB;;EAWlB,WAAKF,IAAL,CAAU+C,OAAV,qBAAyByB,cAAczB,OAAvC,EAAmD,KAAK/C,IAAL,CAAU+C,OAA7D,EAXkB;;EAalBzE,aAAOC,OAAP,CAAe,KAAKyB,IAAL,CAAUG,MAAzB,EAAiC3B,OAAjC,CAAyC,iBAAgB;EAAA;EAAA,YAAdN,IAAc;EAAA,YAATQ,GAAS;;EACvD,eAAKsB,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,sBAA6BsG,cAAcrE,MAA3C,EAAsD,OAAKH,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,CAAtD;EACA,eAAK8B,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,EAAuBgC,UAAvB,GAAoC,OAAKF,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,EAAuBgC,UAAvB,qBAAyC,OAAKF,IAAL,CAAUE,UAAV,CAAqBC,MAA9D,EAAyE,OAAKH,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,EAAuBgC,UAAhG,IAA+G,OAAKF,IAAL,CAAUE,UAAV,CAAqBC,MAAxK;EACA,eAAKH,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,EAAuByE,MAAvB,qBAAqC,OAAK3C,IAAL,CAAU+C,OAA/C,EAA2D,OAAK/C,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,EAAuByE,MAAlF;EACA,eAAK3C,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,EAAuByE,MAAvB,CAA8BzC,UAA9B,qBAAgD,OAAKF,IAAL,CAAUE,UAAV,CAAqB6C,OAArE,EAAiF,OAAK/C,IAAL,CAAUG,MAAV,CAAiBjC,IAAjB,EAAuByE,MAAvB,CAA8BzC,UAA/G;EACD,OALD;EAOA,aAAO,IAAP;EACD;;;iCAEU;EACT,UAAMuE,UAAU;EACdtE,gBAAQ,KAAKA,MADC;EAEdD,oBAAY,KAAKF,IAAL,CAAUE,UAAV,CAAqB2B,IAFnB;EAGd/C,cAAMoD,SAASwC,aAAT,CAAuB,KAAK1E,IAAL,CAAU6B,IAAV,CAAeO,KAAtC,CAHQ;EAIdnC,gBAAQiC,SAASwC,aAAT,CAAuB,KAAK1E,IAAL,CAAU6B,IAAV,CAAe5B,MAAtC,CAJM;EAKdG,kBAAU,KAAKuE;EALD,OAAhB;EAQA,WAAK9C,IAAL,GAAY,IAAI9B,IAAJ,CAAS0E,OAAT,CAAZ;EAEA,WAAKF,UAAL,CAAgB,MAAhB,EAAwB,KAAKvE,IAAL,CAAU6B,IAAV,CAAec,MAAvC;EACA,aAAO,IAAP;EACD;;;gCAESzE,MAAMsC,OAAO;EACrB,UAAM1B,OAAO,KAAK+C,IAAL,CAAU/C,IAAV,CAAeZ,IAAf,CAAb;EAAA,UACMO,OAAOK,KAAKuC,WAAL,CAAiBnD,IAD9B;EAAA,UAEMuG,UAAU;EACR3F,cAAMA,IADE;EAERG,oBAAYuB,MAAMvB,UAFV;EAGRF,aAAKyB,MAAMzB,GAHH;EAIRC,aAAKwB,MAAMxB,GAJH;EAKRkB,oBAAYM,MAAMN,UALV;EAMRE,kBAAU,KAAKwD;EANP,OAFhB;;EAWA,UAAInF,SAASyC,kBAAT,IACAzC,SAAS0C,qBADb,EACoC;EAClC,aAAKhB,MAAL,CAAYjC,IAAZ,IAAoB,IAAIuD,KAAJ,CAAUgD,OAAV,CAApB;EACD;;EAED,UAAIhG,SAASuC,eAAb,EAA8B;EAC5B,aAAKb,MAAL,CAAYjC,IAAZ,IAAoB,IAAIwD,KAAJ,CAAU+C,OAAV,CAApB;EACD;;EAED,UAAIhG,SAASwC,mBAAb,EAAkC;EAChC,aAAKd,MAAL,CAAYjC,IAAZ,IAAoB,IAAIyD,MAAJ,CAAW8C,OAAX,CAApB;EACD;;EAED,aAAO,IAAP;EACD;;;iCAEUvG,MAAMyE,QAAQ;EACvB,WAAKI,OAAL,CAAa7E,IAAb,IAAqB,IAAI0D,MAAJ,CAAW;EAC9BC,cAAM,KAAKA,IAAL,CAAU/C,IADc;EAE9BoB,oBAAYyC,OAAOzC,UAFW;EAG9B4B,kBAAUa,OAAOb,QAHa;EAI9B7D,iBAAS,AAAQ0E,OAAO1E,OAJM;EAK9B8D,qBAAaY,OAAOZ,WALU;EAM9BC,gBAAQW,OAAOZ,WAAP,GAAqB,KAAK5B,MAAL,CAAYjC,IAAZ,EAAkBY,IAAvC,GAA8CoD,SAASwC,aAAT,CAAuB/B,OAAOb,QAA9B;EANxB,OAAX,CAArB;EAQA,aAAO,IAAP;EACD;;;oCAEa5D,MAAMiB,OAAO;EACzB,WAAKgB,MAAL,CAAYjC,IAAZ,EAAkBuF,aAAlB,CAAgCtE,KAAhC;;EAEA,UAAIA,KAAJ,EAAW;EACT,aAAK4D,OAAL,CAAa7E,IAAb,EAAmB2F,IAAnB;EACD,OAFD,MAEO;EACL,aAAKd,OAAL,CAAa7E,IAAb,EAAmB6F,IAAnB;EACD;;EACD,WAAKlC,IAAL,CAAUiC,YAAV;EACA,aAAO,IAAP;EACD;;;;;;;;;;;;"}